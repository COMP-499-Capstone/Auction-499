version: "3.8"
services:
  livekit:
    image: livekit/livekit-server:latest
    command: >
      --dev
      --bind 0.0.0.0:7880
      --ws-port 7880
      --api-key ${LIVEKIT_API_KEY}
      --api-secret ${LIVEKIT_API_SECRET}
    ports:
      - "7880:7880"      # WebSocket signaling
      - "7882:7882/udp"  # RTP for dev
    environment:
      - LIVEKIT_API_KEY=${LIVEKIT_API_KEY}
      - LIVEKIT_API_SECRET=${LIVEKIT_API_SECRET}
